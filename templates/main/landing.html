{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="strict-origin-when-cross-origin">
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--    <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&family=DM+Sans:wght@400;500;700&family=Inconsolata:wght@400;600&display=swap" rel="stylesheet">-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css">
    <link rel="icon" href="/media/icons/icons8-around-the-globe-512.png" type="images/png" />
    <link rel="shortcut icon" href="{% static 'favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'main/css/main.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <title>Bob Site</title>
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?32227606de1398729c97d9242efd8a64";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="landing-nav">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <a href="/" class="nav-brand">
                    <i class="bi bi-compass"></i>
                    <span>BYINCD</span>
                </a>
                <ul class="nav-links">
                    <li><a href="{% url 'index' %}" onclick="scrollToSection(0)">Blog</a></li>
                    <li><a href="#tools" onclick="scrollToSection(1)">Tools</a></li>
                    <li><a href="#diary" onclick="scrollToSection(2)">Diary</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Progress Indicator -->
    <div class="progress-indicator">
        <div class="progress-dot active" onclick="scrollToSection(0)" data-section="0"></div>
        <div class="progress-dot" onclick="scrollToSection(1)" data-section="1"></div>
        <div class="progress-dot" onclick="scrollToSection(2)" data-section="2"></div>
    </div>

    <!-- Scroll Container -->
    <div class="scroll-container" id="scrollContainer">
        <!-- Section 1: Technical Blog (CodePen Showcase Style) -->
        <section class="viewport-section section-blog" id="blog" data-section="0">
            <div class="blog-container">
                <div class="code-window">
                    <div class="window-header">
                        <div class="window-dots">
                            <div class="dot close"></div>
                            <div class="dot minimize"></div>
                            <div class="dot maximize"></div>
                        </div>
                        <div class="window-title">~/blog/index</div>
                    </div>
                    <div class="window-body">
                        <div class="code-line">
                            <span class="code-comment">$ cat bob_blog.md</span>
                        </div>
                        <h1>Bob <span class="gradient-text">Blog</span><span class="cursor">&nbsp;|</span></h1>
                        <p class="subtitle">Technical articles, tutorials, and coding insights.<br>
                            {% if device_type != 'mobile' %}
                            Web & APP Development, Automation Framework & Platform, Machine Learning, etc.
                            {% endif %}
                        </p>
                        
                        <div class="showcase-stats">
                            <div class="stat-box">
                                <div class="stat-value">200+</div>
                                <div class="stat-label">Articles</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">700K+</div>
                                <div class="stat-label">Views</div>
                            </div>
                            {% if device_type != 'mobile' %}
                            <div class="stat-box">
                                <div class="stat-value">8yr+</div>
                                <div class="stat-label">Running</div>
                            </div>
                            {% endif %}
                        </div>
                        
                        <a href="{% url 'index' %}" class="visit-btn">
                            <span>$ CD BLOG/</span>
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            <a class="scroll-indicator" onclick="scrollToSection(1)">
                <span>Next</span>
                <i class="bi bi-chevron-down"></i>
            </a>
        </section>

        <!-- Section 2: Tools Website (Figma/Canva Style) -->
        <section class="viewport-section section-tools" id="tools" data-section="1">
            <div class="tools-container">
                <div class="tools-header">
                    <h1>Online <span class="gradient-text">Tools</span></h1>
                    <p class="subtitle">Public utilities for developers, from github, deployed by admin.</p>
                </div>
                <div class="tools-grid">
                    <div class="figma-card">
                        <div class="figma-icon">
                            <i class="bi bi-code-slash"></i>
                        </div>
                        <div class="figma-title">Develop</div>
                        <div class="figma-desc">Generator, formatter, encryption, and more.</div>
                    </div>
                    {% if device_type != 'mobile' %}
                    <div class="figma-card">
                        <div class="figma-icon">
                            <i class="bi bi-shield-check"></i>
                        </div>
                        <div class="figma-title">Network</div>
                        <div class="figma-desc">Network ip, mac, and more.</div>
                    </div>
                    <div class="figma-card">
                        <div class="figma-icon">
                            <i class="bi bi-palette2"></i>
                        </div>
                        <div class="figma-title">Converter</div>
                        <div class="figma-desc">Unicode, base64, yaml, json, text, color, and more.</div>
                    </div>
                    {% endif %}
                </div>
                <div class="text-center">
                    <a href="/it-tools/" class="visit-btn">
                        <span>Explore Tools</span>
                        <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>
            <a class="scroll-indicator" onclick="scrollToSection(2)">
                <span>Next</span>
                <i class="bi bi-chevron-down"></i>
            </a>
        </section>

        <!-- Section 3: Personal Diary (Warm Gradient Style) -->
        <section class="viewport-section section-diary" id="diary" data-section="2">
            <div class="diary-content">
                <h1 class="section-title">Life Journey</h1>
                <p class="section-description">
                    Adventures, travels, and beautiful moments captured along the way.
                </p>
                <div class="diary-cards">
                    <div class="diary-card">
                        <div class="diary-emoji">‚úàÔ∏è</div>
                        <div class="diary-label">Travel</div>
                        <div class="diary-text">Exploring new places</div>
                    </div>
                    {% if device_type != 'mobile' %}
                    <div class="diary-card">
                        <div class="diary-emoji">‚òÄÔ∏è</div>
                        <div class="diary-label">Moments</div>
                        <div class="diary-text">Everyday joys and sunshine</div>
                    </div>
                    <div class="diary-card">
                        <div class="diary-emoji">üí´</div>
                        <div class="diary-label">Memories</div>
                        <div class="diary-text">Stories worth remembering</div>
                    </div>
                    {% endif %}
                </div>
                <a href="/memory" class="visit-btn">
                    View Diary
                    <i class="bi bi-arrow-right"></i>
                </a>
            </div>
            <a class="scroll-indicator" onclick="scrollToSection(0)">
                <span>Back</span>
                <i class="bi bi-chevron-up"></i>
            </a>
        </section>
    </div>

    <!-- Footer -->
    <footer class="landing-footer">
        <div class="container">
            <div class="footer-content">
                <!-- <div class="copyright">
                    ¬© 2026 Bob Hub. All rights reserved.
                </div> -->
                <span id="beian">
                    <a href="http://www.beian.miit.gov.cn/" target="_blank">ËúÄICPÂ§á18017146Âè∑</a>
                    <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51012202000327"><img src="/media/upload/Bo/2018/07/01/gonganbu.png"/>&ensp;Â∑ùÂÖ¨ÁΩëÂÆâÂ§á 51012202000327Âè∑</a>
                </span>
            </div>
        </div>
    </footer>

    <script>
        let isScrolling = false;
        let currentSection = 0;
        const sections = document.querySelectorAll('.viewport-section');
        const progressDots = document.querySelectorAll('.progress-dot');
        const scrollContainer = document.getElementById('scrollContainer');
        const navbar = document.querySelector('.landing-nav');
        const footer = document.querySelector('.landing-footer');

        // Smooth scroll to section with slower animation
        function scrollToSection(index) {
            if (index < 0 || index >= sections.length || isScrolling) return;
            
            isScrolling = true;
            currentSection = index;
            
            const targetSection = sections[index];
            const targetPosition = targetSection.offsetTop;
            const startPosition = scrollContainer.scrollTop;
            const distance = targetPosition - startPosition;
            const duration = 400; // Faster: 0.8 seconds
            let startTime = null;

            function animation(currentTime) {
                if (startTime === null) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                const progress = Math.min(timeElapsed / duration, 1);
                
                // Easing function for smooth animation
                const ease = progress < 0.5
                    ? 4 * progress * progress * progress
                    : 1 - Math.pow(-2 * progress + 2, 3) / 2;
                
                scrollContainer.scrollTop = startPosition + distance * ease;
                
                if (timeElapsed < duration) {
                    requestAnimationFrame(animation);
                } else {
                    isScrolling = false;
                }
            }
            
            requestAnimationFrame(animation);
            updateProgressIndicator();
        }

        // Update progress indicator
        function updateProgressIndicator() {
            progressDots.forEach((dot, index) => {
                if (index === currentSection) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            // Show footer only on last section (diary)
            if (currentSection === sections.length - 1) {
                footer.classList.add('show');
            } else {
                footer.classList.remove('show');
            }
        }

        // Handle mouse wheel scroll with strict one-section-at-a-time control
        let wheelTimeout = null;
        let wheelDelta = 0;
        let lastScrollTime = 0;
        const scrollCooldown = 50; // Short cooldown to prevent double-triggering
        
        scrollContainer.addEventListener('wheel', (e) => {
            e.preventDefault();
            
            // Block all scrolling if currently animating
            if (isScrolling) return;
            
            // Check if enough time has passed since last scroll
            const now = Date.now();
            if (now - lastScrollTime < scrollCooldown) {
                return;
            }
            
            // Accumulate wheel delta
            wheelDelta += e.deltaY;
            
            // Clear existing timeout
            if (wheelTimeout) {
                clearTimeout(wheelTimeout);
            }
            
            // Set new timeout
            wheelTimeout = setTimeout(() => {
                // Only scroll if delta exceeds threshold (lowered for easier scrolling)
                if (Math.abs(wheelDelta) > 20) {
                    const direction = wheelDelta > 0 ? 1 : -1;
                    const targetSection = currentSection + direction;
                    
                    // Only allow moving to adjacent section
                    if (targetSection >= 0 && targetSection < sections.length) {
                        lastScrollTime = Date.now(); // Record scroll time
                        scrollToSection(targetSection);
                    }
                }
                
                // Reset delta
                wheelDelta = 0;
                wheelTimeout = null;
            }, 5); // Wait 50ms after last wheel event for faster response
        }, { passive: false });

        // Detect section change on scroll (for manual scrolling or other interactions)
        let lastScrollTop = 0;
        let scrollDetectionTimeout = null;
        
        scrollContainer.addEventListener('scroll', () => {
            if (isScrolling) return;

            const scrollTop = scrollContainer.scrollTop;
            const viewportHeight = window.innerHeight;
            
            // Debounce scroll detection
            if (scrollDetectionTimeout) {
                clearTimeout(scrollDetectionTimeout);
            }
            
            scrollDetectionTimeout = setTimeout(() => {
                // Determine which section is in view
                sections.forEach((section, index) => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top >= -viewportHeight / 2 && rect.top < viewportHeight / 2) {
                        if (currentSection !== index) {
                            currentSection = index;
                            updateProgressIndicator();
                        }
                    }
                });
            }, 100);

            // Hide/show navbar on scroll
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                navbar.classList.add('hidden');
            } else {
                navbar.classList.remove('hidden');
            }
            lastScrollTop = scrollTop;
        });

        // Initialize
        updateProgressIndicator();

        // Prevent default scroll behavior for smoother experience
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' || e.key === 'PageDown') {
                e.preventDefault();
                if (currentSection < sections.length - 1) {
                    scrollToSection(currentSection + 1);
                }
            } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
                e.preventDefault();
                if (currentSection > 0) {
                    scrollToSection(currentSection - 1);
                }
            } else if (e.key === 'Home') {
                e.preventDefault();
                scrollToSection(0);
            } else if (e.key === 'End') {
                e.preventDefault();
                scrollToSection(sections.length - 1);
            }
        });
    </script>
</body>
</html>
